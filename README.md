* 购买模型已弃更，最终比赛结果只采用了日期模型 *

## 日期模型

### 特征工程

+ 用户年龄/性别/等级，用户初次记录至今天数
+ 距离16年双11天数，距离16年618天数
+ 历史日均统计/近7天统计/近15天统计/近30天统计/近90天统计：
    + 用户101、30类别/目标类别/非目标类别/所有类别的浏览次数
    + 用户101、30类别/目标类别/非目标类别/所有类别的浏览天数
    + 用户101、30类别/目标类别/非目标类别/所有类别的订单数(15天以上的统计窗口)
    + 用户101、30类别/目标类别/非目标类别/所有类别的下单天数(15天以上的统计窗口)
    + 用户101、30类别/目标类别/非目标类别/所有类别的平均下单日期(30天以上的统计窗口)
    + 用户101、30类别/目标类别/非目标类别/所有类别的下单商品数(15天以上的统计窗口)
    + 用户101、30类别/目标类别/非目标类别/所有类别的下单商品件数
    + 用户101、30类别/目标类别/非目标类别/所有类别的最早下单日期(30天以上的统计窗口)
    + 用户101、30类别/目标类别/非目标类别/所有类别的最晚下单日期(30天以上的统计窗口)
    + 用户101、30类别/目标类别/非目标类别/所有类别的平均评价等级(15天以上的统计窗口)
    + 用户101、30类别的平均下单间隔
    + 根据平均下单间隔和最近一次下单时间预测的用户101、30类别下次下单时间
    + 用户101、30类别/目标类别/非目标类别/所有类别的平均下单商品单价
    + 用户101、30类别/目标类别/非目标类别/所有类别的下单商品单价最小值
    + 用户101、30类别/目标类别/非目标类别/所有类别的下单商品单价最大值
    + 用户101、30类别商品、所有商品的平均订单总价
    + 用户101、30类别/目标类别/非目标类别/所有类别的所有订单总价
    + 用户101、30类别商品、所有商品最近一次订单价格与平均订单总价差值
    + 用户101、30类别的下单商品的平均参数一
    + 用户101、30类目最近一次下单商品的参数一与平均参数一的差值
    + 用户下单最多的地区
+ 用户各类别、所有类别的最近一次浏览时间
+ 用户各类别、所有类别的最近一次下单时间
+ 用户各类别、所有类别的最近一次下单时间与浏览时间之差
+ 用户101、30类别、所有类别的最近一次订单价格
+ 用户101、30类别最近一次订单的商品参数一均值

### 模型构建

+ 模型：xgboost
+ 预测目标：未来31天内第几天购买（从0开始）
+ 训练集：未来31天内有购买的用户样本,从16年8月起，隔15天统计一次
+ 参数：
    + 'objective': 'reg:linear',
    + 'eval_metric':'rmse',
    + 'silent': True,
    + 'eta': 0.1,
    + 'max_depth': 4,
    + 'gamma': 0.5,
    + 'subsample': 0.95,
    + 'colsample_bytree': 1,
    + 'min_child_weight': 9,
    + 'lambda': 500,

### 模型效果

+ 先下S2MSE：7月18日106.2557,8月2日106.5615
+ 线下S2评分：7月18日0.3194,8月2日0.3306
+ 线上S2单模型评分：0.2689（S1 0.4982）
