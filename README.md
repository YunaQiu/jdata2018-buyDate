## 购买模型

### 特征工程

+ 用户年龄/性别/等级
+ 历史月均统计/近1个月统计/近3个月统计：
    + 用户各类别/目标类别/非目标类别/所有类别的浏览次数
    + 用户目标类别的浏览天数
    + 用户目标类别浏览的商品数
    + 用户各类别/目标类别/非目标类别/所有类别的订单数
    + 用户各类别/目标类别/非目标类别/所有类别的下单天数
    + 用户目标类别的平均下单日期
    + 用户30、101类别/目标类别/非目标类别的下单商品数
    + 用户目标类别的下单商品件数
    + 用户30、101类别/目标类别的最早下单日期
    + 用户目标类别的最晚下单日期
    + 用户目标类别的下单月数
+ 用户各类别的平均下单天数间隔

### 模型构建

+ 模型：xgboost
+ 预测目标：下个月是否购买
+ 训练集：4月份的用户样本
+ 参数：
    + 'objective': 'binary:logistic',
    + 'eval_metric':'auc',
    + 'eta': 0.1,
    + 'scale_pos_weight': 1.2,

### 模型效果

+ 线下S1评分：3月0.6066,4月0.5672
+ 线上S1单模型总分：0.3296


## 日期模型

### 特征工程

+ 用户年龄/性别/等级，用户初次记录至今天数
+ 历史日均统计/近30天统计/近90天统计：
    + 用户101、30类别/目标类别/非目标类别/所有类别的浏览次数
    + 用户101、30类别/目标类别/非目标类别/所有类别的浏览天数
    + 用户101、30类别/目标类别/非目标类别/所有类别的订单数
    + 用户101、30类别/目标类别/非目标类别/所有类别的下单天数
    + 用户101、30类别/目标类别/非目标类别/所有类别的平均下单日期
    + 用户101、30类别/目标类别/非目标类别/所有类别的下单商品数
    + 用户101、30类别/目标类别/非目标类别/所有类别的下单商品件数
    + 用户101、30类别/目标类别/非目标类别/所有类别的最早下单日期
    + 用户101、30类别/目标类别/非目标类别/所有类别的最晚下单日期
    + 用户101、30类别/目标类别/非目标类别/所有类别的平均评价等级
    + 用户101、30类别的平均下单间隔
    + 根据平均下单间隔和最近一次下单时间预测的用户101、30类别下次下单时间
+ 用户各类别、所有类别的最近一次浏览时间
+ 用户各类别、所有类别的最近一次下单时间
+ 用户各类别、所有类别的最近一次下单时间与浏览时间之差

### 模型构建

+ 模型：xgboost
+ 预测目标：未来31天内第几天购买
+ 训练集：从16年8月起，隔30天统计一次，未来31天内有购买的用户样本
+ 参数：
    + 'objective': 'reg:linear',
    + 'eval_metric':'rmse',
    + 'silent': True,
    + 'eta': 0.1,
    + 'max_depth': 4,
    + 'gamma': 20,
    + 'subsample': 0.95,
    + 'colsample_bytree': 1,
    + 'min_child_weight': 9,
    + 'lambda': 500,

### 模型效果

+ 线下S2评分(一个月)：3月2日0.3081，4月1日0.3388
+ 线上S2单模型评分：0.2503（S1固定）
